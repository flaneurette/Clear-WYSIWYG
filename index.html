<!DOCTYPE html>
<html>
<style>

* {
	font-family: Roboto, Arial, sans-serif;
}

html, body {
	margin:0px;
}

div {
	float:left;
	height:200px;
	display:inline-block;
	margin-top: 20px;
	margin: auto;
	background-color: #fff;
}

.container {
	height: 900px;
	width: 80%;
}

.editor { 
	display:block;
	border: 1px solid grey;
	width:80%;
	height:auto;
	margin-left: 20px;
}

.menu {
    	width:200px;
	display:block;
	background-color: black;
	color: white;
	min-height: 1000px;
	height: auto;
	padding: 20px;
	float: right;
}

.small {
	font-size: 11px;
    color: lightgrey;
}

.grid {
	border:1px dashed lightgrey;
	resize: both;
	overflow:auto;
	width:100%;
	height:100%;
	cursor: pointer;
	line-height: 100px;
	font-size: 28px;
	padding-left: 20px;
	padding-right:-20px;
}

.small {
	margin-left: -50px;
	margin-bottom: -10px;
	margin-top:10px;
}

::-webkit-resizer {
	/* from stack overflow */
	border-width: 28px;
	border-style: solid;
	border-color: white black black white;
}

input[type="color"] {
	float:right;
	width: 15px;
	padding: 3px;
}

textarea {
	background-color: #666;
	color: white;
	border: 1px solid black;
}

h1 {
	font-size: 48px;
}


.ruler  { 
	width: 100%;
	height: 19px;
	background-image: 
    	repeating-linear-gradient(
      	90deg,
      	black,
      	transparent 1px,
      	transparent 50px
    ),
    	repeating-linear-gradient(
      	90deg,
      	lightgrey,
      	transparent 1px,
      	transparent 25px
    ),
	repeating-linear-gradient(
      	90deg,
      	lightgrey,
      	transparent 1px,
      	transparent 12.5px
    );
	border-top: 1px solid grey;
	margin-bottom: 20px;
	margin-top:-2px;
}

#x {
	width: 1px;
	background-color: lightgrey;
	height: 100%;
	position: absolute;
	left: 1;
	z-index: 1;
}

</style>
<div class="ruler"></div><span class="small" id="tip">100%</span>
<div class="container" id="container">
  <div class="editor" id="editor">
		<div onmousemove="div('grid1','color1');" contenteditable="true" class="grid" id="grid1" style="height:100px;">
		Header
		<input type="color" onchange="color('grid1','color1');" value="#ffffff" id="color1"/>
		</div>
		<div onmousemove="div('grid2','color2');" contenteditable="true" class="grid" id="grid2" style="height:100px;">
		Navigation
		<input type="color" onchange="color('grid2','color2');" value="#ffffff" id="color2"/>
		</div>
		<div onmousemove="div('grid3','color3');" contenteditable="true" class="grid" id="grid3" style="height:100px;">
		Main
		<input type="color" onchange="color('grid3','color3');" value="#ffffff" id="color3"/>
		</div>
		<div onmousemove="div('grid4','color4');" contenteditable="true" class="grid" id="grid4" style="height:100px;">
		Card-1
		<input type="color" onchange="color('grid4','color4');" value="#ffffff" id="color4"/>
		</div>
		<div onmousemove="div('grid5','color5');" contenteditable="true" class="grid" id="grid5" style="height:100px;">
		Card-2
		<input type="color" onchange="color('grid5','color5');" value="#ffffff" id="color5"/>
		</div>
		<div onmousemove="div('grid6','color6');" contenteditable="true" class="grid" id="grid6" style="height:100px;">
		Card-3
		<input type="color" onchange="color('grid6','color6');" value="#ffffff" id="color6"/>
		</div>
		<div onmousemove="div('grid7','color7');" contenteditable="true" class="grid" id="grid7" style="height:100px;">
		Footer
		<input type="color" onchange="color('grid7','color7');" value="#ffffff" id="color7"/>
		</div>
  </div>
</div>
<div class="menu">
	<label>CSS</label>
	<textarea cols="25" rows="25" id="css"></textarea>
	<label>HTML</label>
	<textarea cols="25" rows="25" id="html"></textarea>
</div>
<div id="x"></div>
<script>

function color(grid,c,event) {
	let color = document.getElementById(c).value;
	document.getElementById(grid).style.backgroundColor = color;
}

function div(grid,c) {

	let screenwidth = document.body.clientWidth;
	
	if(screenwidth > 1600) { 
	document.getElementById('container').style.width = '1600px';
	document.getElementById('editor').style.width = '1600px';
	} else { 
	document.getElementById('container').style.width = '1000px';
	document.getElementById('editor').style.width = '1000px';
	}	
	
	let x = event.clientX;
	let y = event.clientY;
	document.getElementById('x').style.left = (x +10) +'px';
  
	let docChildren = document.getElementById('editor').children;

	document.getElementById('css').value = 'div { \rborder: 1px dashed black;\r }\r';
	document.getElementById('html').value = '';
	
	for(var j = 0; j < docChildren.length; j++) {
		
		let height = document.getElementById(docChildren[j].id).style.height;
		let width = document.getElementById(docChildren[j].id).style.width;
		let containerWidth = document.getElementById('container').style.width; 
		let containerHeight = document.getElementById('container').style.height;
		let valueWidth = parseInt(width.replace('px','') / containerWidth.replace('px','') * 100);
		let valueHeight = parseInt(height.replace('px','') / containerHeight.replace('px','') * 100);
		let container = window.getComputedStyle(document.getElementById('container'))
		let cs =document.getElementById(docChildren[j].id); 
		let computed = window.getComputedStyle(cs);

		let name = document.getElementById(docChildren[j].id).innerText;
		let divw  = computed.getPropertyValue("width");
		let divh = computed.getPropertyValue("height");
		let color = computed.getPropertyValue("background-color");
		let fullwidth = Math.round((divw.replace('px','') / container.getPropertyValue("width").replace('px','')) * 100);
		
		if(fullwidth >= 95 && fullwidth <= 108) {
			fullwidth = 100;
		}
		
		document.getElementById('tip').innerHTML = divw + ' - ' + divh;
		document.getElementById('tip').innerHTML = divw + ' - ' +divh;
		document.getElementById('css').value += '\r.' + name + "{\r";
		document.getElementById('css').value += 'background-color: ' + color + ';\r';
		document.getElementById('css').value += 'height: ' + divh + ';\r';
		document.getElementById('css').value += 'width: ' + fullwidth  + '%;\r';
		document.getElementById('css').value += 'float:left;\r';
		document.getElementById('css').value += 'display:block;\r';
		document.getElementById('css').value += "}\r";
		document.getElementById('html').value += '<div class="'+name+'"> </div>\r';
	}
}
</script>
</body>
</html>
